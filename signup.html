<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="signup-container">
        <div class="signup-box">
            <h1>회원가입</h1>
            <form id="signup" class="signup">
                <label for="signup-username">학번</label>
                <input type="text" id="signup-username" required>
                <label for="signup-password">비밀번호</label>
                <input type="password" id="signup-password" required>
                <label for="signup-name">이름</label>
                <input type="text" id="signup-name" required>
                <label for="signup-email">이메일</label>
                <input type="email" id="signup-email" required>
                <label for="signup-phone">전화번호</label>
                <input type="tel" id="signup-phone" required>
                <button type="submit">회원가입</button>
            </form>
            <p>이미 계정이 있으신가요? <a href="login.html">로그인</a></p>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const signupForm = document.getElementById("signup");

            signupForm.addEventListener("submit", (e) => {
                e.preventDefault();

                // 입력값 가져오기
                const username = document.getElementById("signup-username").value;
                const password = document.getElementById("signup-password").value;
                const name = document.getElementById("signup-name").value;
                const email = document.getElementById("signup-email").value;
                const phone = document.getElementById("signup-phone").value;

                // 사용자 데이터 객체 생성
                const newUser = {
                    username,
                    password,
                    name,
                    email,
                    phone,
                };

                // 기존 users 데이터 가져오기
                const usersData = localStorage.getItem("users");
                const users = usersData ? JSON.parse(usersData) : [];
                // 중복 사용자 확인
                const isDuplicate = users.some(user => user.username === username
                    ||  user.name === name);
                if (isDuplicate) {
                    alert("이미 존재하는 사용자입니다.");
                    return;
                }

                // 새로운 사용자 추가
                users.push(newUser);
                localStorage.setItem("users", JSON.stringify(users));

                alert("회원가입이 완료되었습니다!");
                signupForm.reset();
                window.location.href = "login.html"; // 회원가입 후 로그인 페이지로 이동
            });
        });
    </script>
</body>

</html>